(this.webpackJsonpweenkstest=this.webpackJsonpweenkstest||[]).push([[0],{72:function(e,n,c){},73:function(e,n,c){},74:function(e,n,c){},75:function(e,n,c){},82:function(e,n,c){},87:function(e,n,c){},88:function(e,n,c){},89:function(e,n,c){},90:function(e,n,c){"use strict";c.r(n);var a=c(2),s=c(23),t=c.n(s),i=(c(72),c(73),c(26)),r=(c(74),c(75),c(46)),l=c.n(r),o=c(49),j=c.n(o),d=c(50),h=c.n(d),b=c(51),u=c.n(b),m=c(52),O=c.n(m),p=c(53),x=c.n(p),f=c(3);var v=function(e){var n=e.channelName;return Object(f.jsxs)("div",{className:"chatHeader",children:[Object(f.jsx)("div",{className:"chatHeader__left",children:Object(f.jsxs)("h3",{children:[Object(f.jsx)("span",{className:"chatHeader__hash",children:"#"}),n]})}),Object(f.jsxs)("div",{className:"chatHeader__right",children:[Object(f.jsx)(l.a,{}),Object(f.jsx)(j.a,{}),Object(f.jsx)(h.a,{}),Object(f.jsxs)("div",{className:"chatHeader__search",children:[Object(f.jsx)("input",{placeholder:"Search"}),Object(f.jsx)(u.a,{})]}),Object(f.jsx)(O.a,{}),Object(f.jsx)(x.a,{})]})]})},g=c(55),N=c.n(g),_=c(56),I=c.n(_),w=c(57),S=c.n(w),k=c(58),C=c.n(k),y=(c(82),c(106));var z=function(e){var n=e.timestamp,c=e.user,a=e.message;return Object(f.jsxs)("div",{className:"message",children:[Object(f.jsx)(y.a,{src:c.photo}),Object(f.jsxs)("div",{className:"message__info",children:[Object(f.jsxs)("h4",{children:[c.displayName,Object(f.jsx)("span",{className:"message__timestamp",children:new Date(null===n||void 0===n?void 0:n.toDate()).toUTCString()})]}),Object(f.jsx)("p",{children:a})]})]})},H=c(16),A=c(30),E=A.a.initializeApp({apiKey:"AIzaSyARY6CPM1oRcpoXqwZrUFh4F3zAMaMomfE",authDomain:"weenks-45db4.firebaseapp.com",projectId:"weenks-45db4",storageBucket:"weenks-45db4.appspot.com",messagingSenderId:"1049782339431",appId:"1:1049782339431:web:dafe5e5f06d528df2011c2",measurementId:"G-KPGZDHR7PS"}).firestore(),B=A.a.auth(),D=new A.a.auth.GoogleAuthProvider,F=E,M=c(28),P=Object(M.b)({name:"user",initialState:{user:null},reducers:{login:function(e,n){e.user=n.payload},logout:function(e){e.user=null}}}),R=P.actions,G=R.login,L=R.logout,T=function(e){return e.user.user},U=P.reducer,W=Object(M.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,n){e.channelId=n.payload.channelId,e.channelName=n.payload.channelName}}}),J=W.actions.setChannelInfo,K=function(e){return e.app.channelId},V=function(e){return e.app.channelName},Z=W.reducer;var q=function(){var e=Object(H.c)(T),n=Object(H.c)(K),c=Object(H.c)(V),s=Object(a.useState)(""),t=Object(i.a)(s,2),r=t[0],l=t[1],o=Object(a.useState)([]),j=Object(i.a)(o,2),d=j[0],h=j[1];return Object(a.useEffect)((function(){n&&F.collection("channels").doc(n).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){return h(e.docs.map((function(e){return e.data()})))}))}),[n]),Object(f.jsxs)("div",{className:"chat",children:[Object(f.jsx)(v,{channelName:c}),Object(f.jsx)("div",{className:"chat__messages",children:d.map((function(e){return Object(f.jsx)(z,{timestamp:e.timestamp,message:e.message,user:e.user},e.key)}))}),Object(f.jsxs)("div",{className:"chat__input",children:[Object(f.jsx)(N.a,{fontSize:"large"}),Object(f.jsxs)("form",{action:"",children:[Object(f.jsx)("input",{value:r,disabled:!n,onChange:function(e){return l(e.target.value)},placeholder:"Message #".concat(c)}),Object(f.jsx)("button",{disabled:!n,className:"chat__inputButton",type:"submit",onClick:function(c){c.preventDefault(),F.collection("channels").doc(n).collection("messages").add({timestamp:A.a.firestore.FieldValue.serverTimestamp(),message:r,user:e}),l("")},children:"Send Message"})]}),Object(f.jsxs)("div",{className:"chat__inputIcons",children:[Object(f.jsx)(I.a,{fontsize:"large"}),Object(f.jsx)(S.a,{fontsize:"large"}),Object(f.jsx)(C.a,{fontsize:"large"})]})]})]})},X=(c(87),c(41)),Y=c.n(X),$=c(59),Q=c.n($);c(88);var ee=function(e){var n=e.id,c=e.channelName,a=Object(H.b)();return Object(f.jsx)("div",{className:"sidebarChannel",onClick:function(){return a(J({channelId:n,channelName:c}))},children:Object(f.jsxs)("h4",{children:[Object(f.jsx)("span",{className:"sidebarChannel_hash",children:"#"}),c]})})},ne=c(60),ce=c.n(ne),ae=c(61),se=c.n(ae),te=c(62),ie=c.n(te),re=c(63),le=c.n(re),oe=c(64),je=c.n(oe),de=c(65),he=c.n(de);var be=function(){var e=Object(H.c)(T),n=Object(a.useState)([]),c=Object(i.a)(n,2),s=c[0],t=c[1];return Object(a.useEffect)((function(){F.collection("channels").onSnapshot((function(e){return t(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))}),[]),Object(f.jsxs)("div",{className:"sidebar",children:[Object(f.jsxs)("div",{className:"sidebar__top",children:[Object(f.jsx)("h3",{children:"Friends"}),Object(f.jsx)(Y.a,{})]}),Object(f.jsxs)("div",{className:"sidebar__channels",children:[Object(f.jsxs)("div",{className:"sidebar__channelsHeader",children:[Object(f.jsxs)("div",{className:"sidebar__header",children:[Object(f.jsx)(Y.a,{}),Object(f.jsx)("h4",{children:"Text Channels"})]}),Object(f.jsx)(Q.a,{onClick:function(){var e=prompt("Enter a new channel name");e&&F.collection("channels").add({channelName:e})},className:"sidebar__addChannel"})]}),Object(f.jsx)("div",{className:"sidebar__channelList",children:s.map((function(e){var n=e.id,c=e.channel;return Object(f.jsx)(ee,{id:n,channelName:c.channelName},n)}))})]}),Object(f.jsxs)("div",{className:"sidebar__voice",children:[Object(f.jsx)(ce.a,{className:"sidebar__voiceIcon",fontSize:"large"}),Object(f.jsxs)("div",{className:"sidebar__voiceInfo",children:[Object(f.jsx)("h3",{children:"Voice Connected"}),Object(f.jsx)("p",{children:"Stream"})]}),Object(f.jsxs)("div",{className:"sidebar__voiceIcons",children:[Object(f.jsx)(se.a,{}),Object(f.jsx)(ie.a,{})]})]}),Object(f.jsxs)("div",{className:"sidebar__profile",children:[Object(f.jsx)(y.a,{onClick:function(){return B.signOut()},src:e.photo}),Object(f.jsxs)("div",{className:"sidebar__profileInfo",children:[Object(f.jsx)("h3",{children:e.displayName}),Object(f.jsxs)("p",{children:["#",e.uid.substring(0,5)]})]}),Object(f.jsxs)("div",{className:"sidebar__profileIcons",children:[Object(f.jsx)(le.a,{}),Object(f.jsx)(je.a,{}),Object(f.jsx)(he.a,{})]})]})]})},ue=c(105);c(89);var me=function(){return Object(f.jsxs)("div",{className:"login",children:[Object(f.jsx)("div",{className:"login_logo",children:Object(f.jsx)("img",{src:"https://fontmeme.com/images/discord-logo-font.png",alt:"discord logo"})}),Object(f.jsx)(ue.a,{className:"btnLog",onClick:function(){B.signInWithPopup(D).catch((function(e){return alert(e.message)}))},children:" Sign in "})]})};var Oe=function(){var e=Object(H.b)(),n=Object(H.c)(T);return Object(a.useEffect)((function(){B.onAuthStateChanged((function(n){console.log("user is",n),e(n?G({uid:n.uid,photo:n.photoURL,displayName:n.displayName}):L())}))}),[e]),Object(f.jsx)("div",{className:"app",children:n?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(be,{}),Object(f.jsx)(q,{})]}):Object(f.jsx)(me,{})})},pe=Object(M.a)({reducer:{user:U,app:Z}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t.a.render(Object(f.jsx)(H.a,{store:pe,children:Object(f.jsx)(Oe,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[90,1,2]]]);
//# sourceMappingURL=main.c37de115.chunk.js.map