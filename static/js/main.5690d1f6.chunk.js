(this.webpackJsonpweenkstest=this.webpackJsonpweenkstest||[]).push([[0],{57:function(e,n,c){},58:function(e,n,c){},59:function(e,n,c){},60:function(e,n,c){},62:function(e,n,c){},72:function(e,n,c){},73:function(e,n,c){},74:function(e,n,c){},75:function(e,n,c){"use strict";c.r(n);var a=c(2),t=c(20),s=c.n(t),i=(c(57),c(58),c(23)),r=(c(59),c(60),c(3));var o=function(e){var n=e.channelName;return Object(r.jsxs)("div",{className:"chatHeader",children:[Object(r.jsx)("div",{className:"chatHeader__left",children:Object(r.jsxs)("h3",{children:[Object(r.jsx)("span",{className:"chatHeader__hash",children:"#"}),n]})}),Object(r.jsx)("div",{className:"chatHeader__right"})]})},l=c(49),d=c.n(l),j=(c(62),c(106));var h=function(e){var n=e.timestamp,c=e.user,a=e.message;return Object(r.jsxs)("div",{className:"message",children:[Object(r.jsx)(j.a,{src:c.photo}),Object(r.jsxs)("div",{className:"message__info",children:[Object(r.jsxs)("h4",{children:[c.displayName,Object(r.jsx)("span",{className:"message__timestamp",children:new Date(null===n||void 0===n?void 0:n.toDate()).toString()})]}),Object(r.jsx)("p",{children:a})]})]})},u=c(13),b=c(27),m=b.a.initializeApp({apiKey:"AIzaSyARY6CPM1oRcpoXqwZrUFh4F3zAMaMomfE",authDomain:"weenks-45db4.firebaseapp.com",projectId:"weenks-45db4",storageBucket:"weenks-45db4.appspot.com",messagingSenderId:"1049782339431",appId:"1:1049782339431:web:dafe5e5f06d528df2011c2",measurementId:"G-KPGZDHR7PS"}).firestore(),O=b.a.auth(),p=new b.a.auth.GoogleAuthProvider,x=m,f=c(25),v=Object(f.b)({name:"user",initialState:{user:null},reducers:{login:function(e,n){e.user=n.payload},logout:function(e){e.user=null}}}),g=v.actions,N=g.login,w=g.logout,_=function(e){return e.user.user},C=v.reducer,I=Object(f.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,n){e.channelId=n.payload.channelId,e.channelName=n.payload.channelName}}}),S=I.actions.setChannelInfo,k=function(e){return e.app.channelId},y=function(e){return e.app.channelName},A=I.reducer;var F=function(){var e=Object(u.c)(_),n=Object(u.c)(k),c=Object(u.c)(y),t=Object(a.useState)(""),s=Object(i.a)(t,2),l=s[0],j=s[1],m=Object(a.useState)([]),O=Object(i.a)(m,2),p=O[0],f=O[1];return Object(a.useEffect)((function(){n&&x.collection("channels").doc(n).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return f(e.docs.map((function(e){return e.data()})))}))}),[n]),Object(r.jsxs)("div",{className:"chat",children:[Object(r.jsx)(o,{channelName:c}),Object(r.jsx)("div",{className:"chat__messages",children:p.map((function(e){return Object(r.jsx)(h,{timestamp:e.timestamp,message:e.message,user:e.user},e.key)}))}),Object(r.jsxs)("div",{className:"chat__input",children:[Object(r.jsx)(d.a,{fontSize:"large"}),Object(r.jsxs)("form",{action:"",children:[Object(r.jsx)("input",{value:l,disabled:!n,onChange:function(e){return j(e.target.value)},placeholder:"Message #".concat(c)}),Object(r.jsx)("button",{disabled:!n,className:"chat__inputButton",type:"submit",onClick:function(c){c.preventDefault(),x.collection("channels").doc(n).collection("messages").add({timestamp:b.a.firestore.FieldValue.serverTimestamp(),message:l,user:e}),j("")},children:"Send Message"})]}),Object(r.jsx)("div",{className:"chat__inputIcons"})]})]})},H=(c(72),c(41)),B=c.n(H),E=c(50),D=c.n(E);c(73);var M=function(e){var n=e.id,c=e.channelName,a=Object(u.b)();return Object(r.jsx)("div",{className:"sidebarChannel",onClick:function(){return a(S({channelId:n,channelName:c}))},children:Object(r.jsxs)("h4",{children:[Object(r.jsx)("span",{className:"sidebarChannel_hash",children:"#"}),c]})})};var L=function(){var e=Object(u.c)(_),n=Object(a.useState)([]),c=Object(i.a)(n,2),t=c[0],s=c[1];return Object(a.useEffect)((function(){x.collection("channels").onSnapshot((function(e){return s(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))}),[]),Object(r.jsxs)("div",{className:"sidebar",children:[Object(r.jsxs)("div",{className:"sidebar__top",children:[Object(r.jsx)("h3",{children:"Canales Informativos"}),Object(r.jsx)(B.a,{})]}),Object(r.jsxs)("div",{className:"sidebar__channels",children:[Object(r.jsxs)("div",{className:"sidebar__channelsHeader",children:[Object(r.jsxs)("div",{className:"sidebar__header",children:[Object(r.jsx)(B.a,{}),Object(r.jsx)("h4",{children:"Canales de texto"})]}),Object(r.jsx)(D.a,{onClick:function(){var e=prompt("Enter a new channel name");e&&x.collection("channels").add({channelName:e})},className:"sidebar__addChannel"})]}),Object(r.jsx)("div",{className:"sidebar__channelList",children:t.map((function(e){var n=e.id,c=e.channel;return Object(r.jsx)(M,{id:n,channelName:c.channelName},n)}))})]}),Object(r.jsxs)("div",{className:"sidebar__profile",children:[Object(r.jsx)(j.a,{onClick:function(){return O.signOut()},src:e.photo}),Object(r.jsxs)("div",{className:"sidebar__profileInfo",children:[Object(r.jsx)("h3",{children:e.displayName}),Object(r.jsxs)("p",{children:["#",e.uid.substring(0,5)]})]})]})]})},P=c(105),z=(c(74),c.p+"static/media/Escudo colegio.c56dc14e.png");var R=function(){return Object(r.jsxs)("div",{className:"login",children:[Object(r.jsxs)("header",{children:[Object(r.jsx)("img",{alt:"LogoImage",id:"LogoImage",src:z}),Object(r.jsx)("div",{id:"headerDiv",children:Object(r.jsx)("nav",{class:"NavBar",children:Object(r.jsxs)("ul",{class:"NavMenu",children:[Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"https://www.mensajeriaijr.ml/",children:"Inicio"})}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"https://www.mensajeriaijr.ml/Contenido/Acerca",children:"Acerca"})}),Object(r.jsx)("li",{id:"NavButton",children:Object(r.jsx)("a",{href:"https://www.mensajeriaijr.ml/Home",children:"Iniciar Sesi\xf3n"})})]})})})]}),Object(r.jsx)("div",{class:"Title",children:"Inicio de sesi\xf3n"}),Object(r.jsx)("div",{className:"ButtonContainer",children:Object(r.jsx)(P.a,{className:"btnLog",onClick:function(){O.signInWithPopup(p).catch((function(e){return alert(e.message)}))},children:" Acceder "})}),Object(r.jsx)("footer",{children:Object(r.jsx)("div",{class:"FooterContainer",children:Object(r.jsxs)("div",{class:"Footer",children:[Object(r.jsxs)("div",{class:"FooterHeading Footer1",children:[Object(r.jsx)("h2",{children:"Acerca de nosotros"}),Object(r.jsx)("a",{href:"https://www.mensajeriaijr.ml/Contenido/Acerca",children:"Acerca"}),Object(r.jsx)("a",{href:"https://www.mensajeriaijr.ml/Contenido/T%C3%A9rminos%20y%20condiciones",children:"T\xe9rminos de servicio"})]}),Object(r.jsxs)("div",{class:"FooterHeading Footer2",children:[Object(r.jsx)("h2",{children:"Cont\xe1ctanos"}),Object(r.jsx)("a",{href:"https://www.mensajeriaijr.ml/Contenido/Soporte",children:"Soporte"}),Object(r.jsx)("a",{href:"https://www.mensajeriaijr.ml/Contenido/Contacto",children:"Contacto"})]}),Object(r.jsx)("div",{})]})})})]})};var T=function(){var e=Object(u.b)(),n=Object(u.c)(_);return Object(a.useEffect)((function(){O.onAuthStateChanged((function(n){console.log("user is",n),e(n?N({uid:n.uid,photo:n.photoURL,displayName:n.displayName}):w())}))}),[e]),Object(r.jsx)("div",{className:"app",children:n?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(L,{}),Object(r.jsx)(F,{})]}):Object(r.jsx)(R,{})})},G=Object(f.a)({reducer:{user:C,app:A}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(r.jsx)(u.a,{store:G,children:Object(r.jsx)(T,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[75,1,2]]]);
//# sourceMappingURL=main.5690d1f6.chunk.js.map